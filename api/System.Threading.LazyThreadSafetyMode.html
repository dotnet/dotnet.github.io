<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Enum LazyThreadSafetyMode | CoreCLR site</title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Enum LazyThreadSafetyMode | CoreCLR site">
    
    <link rel="shortcut icon" href="../images/Logo_DotNet.png" type="image/x-icon">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/style.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav class="navbar navbar-inverse">
             <div class="container">
               <a href="../"><img height="50px" src="../images/Logo_DotNet.png" style="float:right;"></a>
               <div class="navbar-header ">
                 <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                   <span class="sr-only">Toggle navigation</span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                 </button>
                 <a class="navbar-brand" href="../"><span class="dotnet">.NET Core</span></a>
               </div>
               <div id="navbar" class="collapse navbar-collapse">
               </div><!--/.nav-collapse -->
             </div>
           </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content">
        
        <div class="sidenav">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div class="sidetoc">
              <iframe id="sidetoc" src="toc.html"></iframe>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content">
              
              
              <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L3187" class="btn btn-primary pull-right mobile-hide">View Source</a>
              <h1 id="System_Threading_LazyThreadSafetyMode">Enum LazyThreadSafetyMode</h1>
              <div class="markdown level0 summary"><p>Specifies how a <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> instance synchronizes access among multiple threads.</p>
</div>
              <div class="markdown level0 conceptual"></div>
              <h6><strong>Namespace</strong>:System.Threading</h6>
              <h6><strong>Assembly</strong>:System.Runtime.dll</h6>
              <h5 id="System_Threading_LazyThreadSafetyMode_syntax">Syntax</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public enum LazyThreadSafetyMode</code></pre>
              </div>
              <h3 id="fields">Fields</h3>
              
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L3189">View Source</a>
              </span>
              <h4 id="System_Threading_LazyThreadSafetyMode_ExecutionAndPublication">ExecutionAndPublication</h4>
              <div class="markdown level1 summary"><p>Locks are used to ensure that only a single thread can initialize a <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> instance in a thread-safe manner. If the initialization method (or the default constructor, if there is no initialization method) uses locks internally, deadlocks can occur. If you use a <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> constructor that specifies an initialization method (<em>valueFactory</em> parameter), and if that initialization method throws an exception (or fails to handle an exception) the first time you call the <a class="xref" href="System.Lazy`1.html#System_Lazy_1_Value">Value</a> property, then the exception is cached and thrown again on subsequent calls to the <a class="xref" href="System.Lazy`1.html#System_Lazy_1_Value">Value</a> property. If you use a <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> constructor that does not specify an initialization method, exceptions that are thrown by the default constructor for <em>T</em> are not cached. In that case, a subsequent call to the <a class="xref" href="System.Lazy`1.html#System_Lazy_1_Value">Value</a> property might successfully initialize the <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> instance. If the initialization method recursively accesses the <a class="xref" href="System.Lazy`1.html#System_Lazy_1_Value">Value</a> property of the <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> instance, an <a class="xref" href="System.InvalidOperationException.html#System_InvalidOperationException">InvalidOperationException</a> is thrown.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">ExecutionAndPublication = 2</code></pre>
              </div>
              
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L3190">View Source</a>
              </span>
              <h4 id="System_Threading_LazyThreadSafetyMode_None">None</h4>
              <div class="markdown level1 summary"><p>The <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> instance is not thread safe; if the instance is accessed from multiple threads, its behavior is undefined. Use this mode only when high performance is crucial and the <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> instance is guaranteed never to be initialized from more than one thread. If you use a <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> constructor that specifies an initialization method (<em>valueFactory</em> parameter), and if that initialization method throws an exception (or fails to handle an exception) the first time you call the <a class="xref" href="System.Lazy`1.html#System_Lazy_1_Value">Value</a> property, then the exception is cached and thrown again on subsequent calls to the <a class="xref" href="System.Lazy`1.html#System_Lazy_1_Value">Value</a> property. If you use a <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> constructor that does not specify an initialization method, exceptions that are thrown by the default constructor for <em>T</em> are not cached. In that case, a subsequent call to the <a class="xref" href="System.Lazy`1.html#System_Lazy_1_Value">Value</a> property might successfully initialize the <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> instance. If the initialization method recursively accesses the <a class="xref" href="System.Lazy`1.html#System_Lazy_1_Value">Value</a> property of the <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> instance, an <a class="xref" href="System.InvalidOperationException.html#System_InvalidOperationException">InvalidOperationException</a> is thrown.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">None = 0</code></pre>
              </div>
              
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L3191">View Source</a>
              </span>
              <h4 id="System_Threading_LazyThreadSafetyMode_PublicationOnly">PublicationOnly</h4>
              <div class="markdown level1 summary"><p>When multiple threads try to initialize a <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> instance simultaneously, all threads are allowed to run the initialization method (or the default constructor, if there is no initialization method). The first thread to complete initialization sets the value of the <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> instance. That value is returned to any other threads that were simultaneously running the initialization method, unless the initialization method throws exceptions on those threads. Any instances of <em>T</em> that were created by the competing threads are discarded. If the initialization method throws an exception on any thread, the exception is propagated out of the <a class="xref" href="System.Lazy`1.html#System_Lazy_1_Value">Value</a> property on that thread. The exception is not cached. The value of the <a class="xref" href="System.Lazy`1.html#System_Lazy_1_IsValueCreated">IsValueCreated</a> property remains false, and subsequent calls to the <a class="xref" href="System.Lazy`1.html#System_Lazy_1_Value">Value</a> property, either by the thread where the exception was thrown or by other threads, cause the initialization method to run again. If the initialization method recursively accesses the <a class="xref" href="System.Lazy`1.html#System_Lazy_1_Value">Value</a> property of the <a class="xref" href="System.Lazy`1.html#System_Lazy_1">Lazy&lt;T&gt;</a> instance, no exception is thrown.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">PublicationOnly = 1</code></pre>
              </div>
            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
            <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
            </nav>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="inner-footer">
          <p>© .NET Foundation</p>
          <p>
            <a href="https://www.github.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-github fa-stack-1x"></span>
            </span></a>
            <a href="https://twitter.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-twitter fa-stack-1x"></span>
            </span></a>
            <a href="https://www.facebook.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-facebook fa-stack-1x"></span>
            </span></a>
      
          </p>
          </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
